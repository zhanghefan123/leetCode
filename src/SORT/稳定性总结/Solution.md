# 1.排序算法稳定性的汇总



## 1.1 稳定性的定义

相同的值在排序过后相对位置不会改变，若相对次序改变则不稳定，若相对次序不变则稳定。



## 1.2 冒泡排序的稳定性

冒泡可以实现稳定性，因为我们只要保证不做在相等的时候的无用的交换就可以保证相同值相对次序不变

比如，有一个数组 1 2 5 5 

​                                       ^ 当前指针指向第二个5

这个5和前一个5比较发现相等，则不进行交换。



## 1.3 插入排序的稳定性

插入排序可以实现稳定性

比如，有一个数组5 6 7 6

​                                      ^ 当前指针指向6

6和前一个数进行比较发现小于7，和7进行交换

5 6 6 7

​      ^ 当前指针指向6

发现这个数和前一个数相等就不进行交换。



## 1.4 选择排序

选择排序不能实现稳定性

假如一开始数组是

5 5 5 5 4 0 1

经过一轮后，最小的数与第一个位置上的数进行交换之后得到

0 5 5 5 4 5 1 

发现并不稳定。



## 1.5 归并排序

归并排序能够实现稳定性。

在merge的时候，遇到相等的情况下保持只拷贝一边数组的。

比如

3 3 4 5 6   ||    3 5 6 7 9 两个数组进行merge

我们只要保证只拷贝左边的即可。



## 1.6 快速排序

快速排序不能够做到稳定性。



## 1.7 堆排序

堆排序不能做到稳定性。

4 4 4 5 5
    4
  4   4
5   5

在我们建立大根堆的过程之中，就会发生稳定性的变化

# 2.稳定性的意义

现实世界的业务往往需要稳定性

比如我们有多个排序的指标，第一指标的优先级最大，第二其次，以此类推，

我们在按照第一指标进行排序之后，我们要求按照之后的指标排序的时候往往

需要保持稳定性。

总结：排序之前的信息--相对位置很重要，我们不希望这种信息被抹去。



# 3.工程之中的排序算法



## 3.1 如果数组之中装的是基本类型

使用快速排序 -- 不需要保证稳定性



## 3.2 如果要排序的东西是类类型

使用归并排序 -- 要保证稳定性



## 3.3 如果长度少于60

使用插排，样本量在极小的情况下，O(n^2)的劣势表现不出来，并且插排的常数项极低

导致小样本量插排会飞快。



## 3.4 工程之中的方式

分治思想：将数组的左侧部分拿去递归，右侧部分拿去递归，一旦发现长度小于60使用插排。